piniaの実装
piniaを実装して各ベー時で入力した情報を確認ダイアログで表示させるため

- piniaの実装
- ローカルストレージに保存(永続化)
    ┗購入完了したらストレージ内容削除
- ローカルストレージの暗号化

piniaのテストコード

```
// ec.ts

import {defineStore } from 'pinia'

interface counter {
    count: number,
}

export const useCounterStore = defineStore('counter', {
    state: (): counter => ({ count: 0 }),
    getters: {
      doubleCount: (state) => state.count * 2,
    },
    actions: {
      increment() {
        this.count++
      },
    },
})
```

```
// plan.vue

import { useCounterStore } from '~/stores/ec';

// piniaテスト
const counterStore = useCounterStore();
const { increment } = counterStore;
const { count } = storeToRefs(counterStore);

<div style="background-color: aquamarine;">
    <h1>Count:{{ count }}</h1>
    <button @click="increment">たすよ</button>
    <br />
    <nuxt-link to="/">もどる</nuxt-link>
</div>
```

```
// customer.ve

import { useCounterStore } from '~/stores/ec';

const counter = useCounterStore();

<div style="background-color: aqua;">
    <nuxt-link to="/ec/plan"> 戻る </nuxt-link>
    <p>persistedState　ぼたんをおしました : {{ counter.count }}回</p>
</div>
```



nuxt-linkとto="/ec/customer"の違いを調べる
vue routerかnuxtか

ボタンをnuxt-linkに変更

modulesセクションでは、モジュールを追加する際に、単純な文字列としてモジュール名を指定するか、モジュール名とその設定オプションを含む配列を指定する必要があります。
['@pinia-plugin-persistedstate/nuxt']のように記述すると、配列の形式が正しくないためエラーが発生します。
正しい記述方法:
モジュール名だけを指定する場合は、単純に文字列として記述します。
モジュール名と設定オプションを指定する場合は、配列の形式で記述します。

データを永続化させることに成功！
しかしなぜかlocal storageじゃなくてCookieに保存されている？

```
import { defineStore } from 'pinia';
import { ref } from 'vue';

export const useCounterStore = defineStore('counter', () => {
    const count = ref(0);
    function increment() {
        count.value++
    }
    return { count, increment };
},
{
    persist: true,
}
)
```

`persist: true`にしないとデータは保存されない。
しかしこれでlocalstorageではなくcookie？

今日の夜はまずこの調査から